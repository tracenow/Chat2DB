(self.webpackChunkchat2db=self.webpackChunkchat2db||[]).push([[1577],{67381:function(P,r,e){"use strict";e.d(r,{ZP:function(){return de}});var d={name:"workspaceConsoleDDL",primaryKey:{keyPath:"consoleId",autoIncrement:!0},column:[{name:"consoleId",isIndex:!0,keyPath:"consoleId",options:{unique:!0}},{name:"userId",isIndex:!0,keyPath:"userId",options:{unique:!1}},{name:"ddl",isIndex:!0,keyPath:"ddl",options:{unique:!1}}]},l=[{tableDetails:d}],C=function(h,y){return new Promise(function(D,j){var B=window.indexedDB.open(h,y);B.onerror=function(T){j(T.target.error)},B.onsuccess=function(T){D(T.target.result)},B.onupgradeneeded=function(T){var M=T.target.result;l.forEach(function(S){var E=S.tableDetails,q=M.createObjectStore(E.name,E.primaryKey);E.column.forEach(function(A){A.isIndex&&q.createIndex(A.name,A.keyPath,A.options)})})}})},v=function(h,y,D){return new Promise(function(j,B){var T=window._indexedDB[h].transaction(y,"readwrite"),M=T.objectStore(y),S=M.add(D);S.onsuccess=function(){j(!0)},S.onerror=function(E){B(E)}})},i=function(h,y,D,j){return new Promise(function(B,T){var M=window._indexedDB[h].transaction(y,"readwrite"),S=M.objectStore(y),E=S.index(D).delete(j);E.onsuccess=function(){B(!0)},E.onerror=function(){T(!1)}})},O=function(h,y,D){return new Promise(function(j,B){var T=window._indexedDB[h].transaction(y,"readwrite"),M=T.objectStore(y),S=M.delete(D);S.onsuccess=function(){j(!0)},S.onerror=function(){B(!1)}})},c=function(h,y,D,j){return new Promise(function(B,T){var M=window._indexedDB[h].transaction(y,"readwrite"),S=M.objectStore(y),E=S.index(D).get(j);E.onsuccess=function(){B(E.result)},E.onerror=function(){T(!1)}})},_=function(h,y,D){return new Promise(function(j,B){var T=window._indexedDB[h].transaction(y,"readwrite"),M=T.objectStore(y),S=M.openCursor(),E=[];S.onsuccess=function(q){var A=q.target.result;if(A){var ne=!0;Object.keys(D).forEach(function(le){A.value[le]!==D[le]&&(ne=!1)}),ne&&E.push(A.value),A.continue()}else j(E)},S.onerror=function(){B(!1)}})},W=function(h,y,D){return new Promise(function(j,B){var T=window._indexedDB[h].transaction(y,"readwrite"),M=T.objectStore(y),S=M.put(D);S.onsuccess=function(){j(!0)},S.onerror=function(){B(!1)}})},k=function(h){return new Promise(function(y){window._indexedDB[h].close(),y(!0)})},de={createDB:C,addData:v,deleteDataByIndex:i,deleteData:O,getDataByIndex:c,getDataByCursor:_,updateData:W,closeDB:k}},60471:function(P,r,e){"use strict";e.r(r),e.d(r,{default:function(){return Rt}});var d=e(97857),l=e.n(d),C=e(5574),v=e.n(C),i=e(67294),O=e(15009),c=e.n(O),_=e(99289),W=e.n(_),k=function(a){return a.PENDING="PENDING",a.SUCCESS="SUCCESS",a.FAILURE="FAILURE",a}({}),de=function(t){var o=t.maxAttempts,n=o===void 0?200:o,m=t.interval,g=m===void 0?200:m,p=t.loopService,w=(0,i.useState)(k.PENDING),$=v()(w,2),N=$[0],b=$[1],z=(0,i.useState)(!1),G=v()(z,2),X=G[0],ae=G[1],x=(0,i.useRef)(0),H=(0,i.useRef)(new Date().getTime()),V=function(){var ce=W()(c()().mark(function se(){var re;return c()().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if(x.current===1&&k.SUCCESS!==N&&((re=window.electronApi)===null||re===void 0||re.startServerForSpawn()),!(x.current>=n)){oe.next=4;break}return b(k.FAILURE),oe.abrupt("return");case 4:x.current=x.current+1,p().then(function(Lt){if(Lt){var It=new Date().getTime();setTimeout(function(){b(k.SUCCESS)},H.current+1e3-It)}}).catch(function(){setTimeout(V,g)});case 6:case"end":return oe.stop()}},se)}));return function(){return ce.apply(this,arguments)}}();(0,i.useEffect)(function(){V()},[n,g,X]);var J=function(){b(k.PENDING),x.current=0,ae(!X)};return{serviceStatus:N,restartPolling:J}},F=de,h=e(32888),y=e(75081),D=e(15867),j=e(83062),B=e(28459),T=e(18253),M=e(82925),S=e(46621),E=(0,S.Z)("/api/system",{errorLevel:!1}),q=(0,S.Z)("/api/system/stop",{errorLevel:!1,method:"post"}),A=(0,S.Z)("/api/system/get-version-a",{errorLevel:!1,method:"get"}),ne={testService:E,systemStop:q,testApiSmooth:A},le=e(55988),ee=e(19515),Be=e(2550);function Ee(){var a=(0,le.E)(function(o){return{focusedContent:o.focusedContent}}),t=a.focusedContent;(0,i.useEffect)(function(){var o=function(m){if(m.key==="c"&&(m.metaKey||m.ctrlKey)){if(!t)return;if(Array.isArray(t)){(0,ee.UY)(t);return}(0,ee.JG)(t)}};return document.addEventListener("keydown",o),function(){document.removeEventListener("keydown",o)}},[t]),(0,i.useEffect)(function(){var o=function(m){var g=m.target;g.closest("[data-chat2db-general-can-copy-element]")||(0,Be.r)(null)};return document.addEventListener("click",o),document.addEventListener("contextmenu",o),function(){document.removeEventListener("click",o),document.removeEventListener("contextmenu",o)}},[t])}var $e=Ee,je=e(39825),Me=e(9783),f=e.n(Me),ue=e(7693),ie=e(67164),he=e(2790),Oe=e(1393),_e=a=>{const t=a!=null&&a.algorithm?(0,ue.jG)(a.algorithm):(0,ue.jG)(ie.Z),o=Object.assign(Object.assign({},he.Z),a==null?void 0:a.token);return(0,ue.t2)(o,{override:a==null?void 0:a.token},t,Oe.Z)},Ae=e(25976),pe=e(33083),we=e(372);function Ne(a){const{sizeUnit:t,sizeStep:o}=a,n=o-2;return{sizeXXL:t*(n+10),sizeXL:t*(n+6),sizeLG:t*(n+2),sizeMD:t*(n+2),sizeMS:t*(n+1),size:t*n,sizeSM:t*n,sizeXS:t*(n-1),sizeXXS:t*(n-1)}}var ke=e(98378),Re=(a,t)=>{const o=t!=null?t:(0,ie.Z)(a),n=o.fontSizeSM,m=o.controlHeight-4;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},o),Ne(t!=null?t:a)),(0,ke.Z)(n)),{controlHeight:m}),(0,we.Z)(Object.assign(Object.assign({},o),{controlHeight:m})))},ye=e(47448),Le=e(57),Pe=e(63329);const Z=(a,t)=>new Pe.C(a).setAlpha(t).toRgbString(),Q=(a,t)=>new Pe.C(a).lighten(t).toHexString(),Ie=a=>{const t=(0,ye.R_)(a,{theme:"dark"});return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[6],6:t[5],7:t[4],8:t[6],9:t[5],10:t[4]}},Fe=(a,t)=>{const o=a||"#000",n=t||"#fff";return{colorBgBase:o,colorTextBase:n,colorText:Z(n,.85),colorTextSecondary:Z(n,.65),colorTextTertiary:Z(n,.45),colorTextQuaternary:Z(n,.25),colorFill:Z(n,.18),colorFillSecondary:Z(n,.12),colorFillTertiary:Z(n,.08),colorFillQuaternary:Z(n,.04),colorBgElevated:Q(o,12),colorBgContainer:Q(o,8),colorBgLayout:Q(o,0),colorBgSpotlight:Q(o,26),colorBgBlur:Z(n,.04),colorBorder:Q(o,26),colorBorderSecondary:Q(o,19)}};var Ze=(a,t)=>{const o=Object.keys(he.M).map(m=>{const g=(0,ye.R_)(a[m],{theme:"dark"});return new Array(10).fill(1).reduce((p,w,$)=>(p[`${m}-${$+1}`]=g[$],p[`${m}${$+1}`]=g[$],p),{})}).reduce((m,g)=>(m=Object.assign(Object.assign({},m),g),m),{}),n=t!=null?t:(0,ie.Z)(a);return Object.assign(Object.assign(Object.assign({},n),o),(0,Le.Z)(a,{generateColorPalettes:Ie,generateNeutralColorPalettes:Fe}))};function Ue(){const[a,t,o]=(0,Ae.ZP)();return{theme:a,token:t,hashId:o}}var K={defaultConfig:pe.u_,defaultSeed:pe.u_.token,useToken:Ue,defaultAlgorithm:ie.Z,darkAlgorithm:Ze,compactAlgorithm:Re,getDesignToken:_e},u=e(22216),me={fontSize1:14,wireframe:!0,borderRadius:4,borderRadiusLG:8},R,ze=(R={},f()(R,u.PrimaryColorType.Polar_Green,{colorPrimary:"#3c8618"}),f()(R,u.PrimaryColorType.Golden_Purple,{colorPrimary:"#7688c9"}),f()(R,u.PrimaryColorType.Polar_Blue,{colorPrimary:"#1677ff"}),f()(R,u.PrimaryColorType.Silver,{colorPrimary:"#c3b7a4"}),f()(R,u.PrimaryColorType.Red,{colorPrimary:"#fd6874"}),f()(R,u.PrimaryColorType.Orange,{colorPrimary:"#ffa940"}),f()(R,u.PrimaryColorType.Blue2,{colorPrimary:"#009cc7"}),f()(R,u.PrimaryColorType.Gold,{colorPrimary:"#b59a6d"}),R),Ge={algorithm:[K.darkAlgorithm,K.compactAlgorithm],customName:"dark",antdPrimaryColor:ze,token:l()(l()({},me),{},{colorTextBase:"#f1f1f4",colorBgBase:"#0a0b0c",colorHoverBg:"hsla(0, 0%, 100%, 0.03)",colorBgContainer:"#0a0b0c",colorBgSubtle:"#131418",colorBgElevated:"#0a0b0c",colorBorder:"#36373a66",colorBorderSecondary:"#36373a66"})},Ye=Ge,L,We=(L={},f()(L,u.PrimaryColorType.Polar_Green,{colorPrimary:"#3c8618"}),f()(L,u.PrimaryColorType.Golden_Purple,{colorPrimary:"#8276c9"}),f()(L,u.PrimaryColorType.Polar_Blue,{colorPrimary:"#1677ff"}),f()(L,u.PrimaryColorType.Silver,{colorPrimary:"#c3b7a4"}),f()(L,u.PrimaryColorType.Red,{colorPrimary:"#fd6874"}),f()(L,u.PrimaryColorType.Orange,{colorPrimary:"#ffa940"}),f()(L,u.PrimaryColorType.Blue2,{colorPrimary:"#009cc7"}),f()(L,u.PrimaryColorType.Gold,{colorPrimary:"#b59a6d"}),L),Ke={algorithm:[K.darkAlgorithm,K.compactAlgorithm],customName:"dark-dimmed",antdPrimaryColor:We,token:l()(l()({},me),{},{colorTextBase:"#f1f1f4",colorBgBase:"#1c2128",colorHoverBg:"hsla(0, 0%, 100%, 0.03)",colorBgContainer:"#1c2128",colorBgSubtle:"#22272e",colorBgElevated:"#1c2128",colorBorder:"#373e4766",colorBorderSecondary:"#373e4766",controlItemBgActive:"#f1f1f414"})},He=Ke,I,Qe=(I={},f()(I,u.PrimaryColorType.Polar_Green,{colorPrimary:"#039e74"}),f()(I,u.PrimaryColorType.Golden_Purple,{colorPrimary:"#9373ee"}),f()(I,u.PrimaryColorType.Polar_Blue,{colorPrimary:"#587df1"}),f()(I,u.PrimaryColorType.Silver,{colorPrimary:"#8e8374"}),f()(I,u.PrimaryColorType.Red,{colorPrimary:"#fd6874"}),f()(I,u.PrimaryColorType.Orange,{colorPrimary:"#fa8c16"}),f()(I,u.PrimaryColorType.Blue2,{colorPrimary:"#00c3ee"}),f()(I,u.PrimaryColorType.Gold,{colorPrimary:"#9a7d56"}),I),Xe={algorithm:[K.defaultAlgorithm,K.compactAlgorithm],customName:"light",antdPrimaryColor:Qe,token:l()(l()({},me),{},{colorTextBase:"#232429",colorBgBase:"#ffffff",colorHoverBg:"rgba(0, 0, 0, 0.03)",colorBgContainer:"#ffffff",colorBgSubtle:"#f6f8fa",colorBgElevated:"#ffffff",colorBorder:"rgba(211, 211, 212, 0.4)",colorBorderSecondary:"rgba(211, 211, 212, 0.4)"})},Ve=Xe,Je=e(96486),qe=e.n(Je),te,et=(te={},f()(te,u.ThemeType.Dark,Ye),f()(te,u.ThemeType.Light,Ve),f()(te,u.ThemeType.DarkDimmed,He),te);function tt(a){var t=qe().cloneDeep(et[a.backgroundColor]);t.token=l()(l()({},t.token),t.antdPrimaryColor[a.primaryColor]||{});var o=K.getDesignToken(t);return at(o,a.backgroundColor,a.primaryColor),t}function at(a,t,o){var n="";Object.keys(a).map(function(p){var w=rt(p),$=a[p],N=["fontSize","borderRadius","borderRadiusLG"];N.includes(p)&&($=$+"px"),n=n+"--".concat(w,": ").concat($,`;
`)});var m="html[theme='".concat(t,"'],html[primary-color='").concat(o,`']{
    `).concat(n,`
  }`),g=document.createElement("style");g.type="text/css",g.appendChild(document.createTextNode(m)),document.head.appendChild(g),window._AppThemePack=a}function rt(a){return a.replace(/([A-Z])/g,"-$1").toLowerCase()}var ot=e(86111),nt=e(67381),lt=function(){nt.ZP.createDB("chat2db",1).then(function(t){window._indexedDB={chat2db:t}})},it=lt,ct=e(59170),st=function(){var t,o,n,m,g;(t=window.electronApi)===null||t===void 0||t.registerAppMenu({version:"3.1.22"}),(o=window.electronApi)===null||o===void 0||(n=o.setBaseURL)===null||n===void 0||n.call(o,window._BaseURL),(m=window.electronApi)===null||m===void 0||(g=m.setForceQuitCode)===null||g===void 0||g.call(m,ct.VF.getState().holdingService)},dt=st,Ce=e(2453),ut=function(){Ce.ZP.config({maxCount:1,duration:3})},Se=e(16568),mt=function(){Se.Z.config({placement:"BottomRight",maxCount:2,duration:null})},be=e(46773),ft=function(){(0,ee.y1)(),vt(),it(),dt(),ut(),mt()},vt=function(){var t=(0,be.VQ)();if(!t){(0,be.Wg)(u.LangType.EN_US),document.documentElement.setAttribute("lang",u.LangType.EN_US);var o=new Date("2030-12-30 12:30:00").toUTCString();document.cookie="CHAT2DB.LOCALE=".concat(t,";Expires=").concat(o)}},gt=ft,fe=e(87462),ht={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"},pt=ht,ve=e(98615),yt=function(t,o){return i.createElement(ve.Z,(0,fe.Z)({},t,{ref:o,icon:pt}))},Pt=i.forwardRef(yt),Ct={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0138.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"}}]},name:"github",theme:"outlined"},St=Ct,bt=function(t,o){return i.createElement(ve.Z,(0,fe.Z)({},t,{ref:o,icon:St}))},Tt=i.forwardRef(bt),xt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M690.1 377.4c5.9 0 11.8.2 17.6.5-24.4-128.7-158.3-227.1-319.9-227.1C209 150.8 64 271.4 64 420.2c0 81.1 43.6 154.2 111.9 203.6a21.5 21.5 0 019.1 17.6c0 2.4-.5 4.6-1.1 6.9-5.5 20.3-14.2 52.8-14.6 54.3-.7 2.6-1.7 5.2-1.7 7.9 0 5.9 4.8 10.8 10.8 10.8 2.3 0 4.2-.9 6.2-2l70.9-40.9c5.3-3.1 11-5 17.2-5 3.2 0 6.4.5 9.5 1.4 33.1 9.5 68.8 14.8 105.7 14.8 6 0 11.9-.1 17.8-.4-7.1-21-10.9-43.1-10.9-66 0-135.8 132.2-245.8 295.3-245.8zm-194.3-86.5c23.8 0 43.2 19.3 43.2 43.1s-19.3 43.1-43.2 43.1c-23.8 0-43.2-19.3-43.2-43.1s19.4-43.1 43.2-43.1zm-215.9 86.2c-23.8 0-43.2-19.3-43.2-43.1s19.3-43.1 43.2-43.1 43.2 19.3 43.2 43.1-19.4 43.1-43.2 43.1zm586.8 415.6c56.9-41.2 93.2-102 93.2-169.7 0-124-120.8-224.5-269.9-224.5-149 0-269.9 100.5-269.9 224.5S540.9 847.5 690 847.5c30.8 0 60.6-4.4 88.1-12.3 2.6-.8 5.2-1.2 7.9-1.2 5.2 0 9.9 1.6 14.3 4.1l59.1 34c1.7 1 3.3 1.7 5.2 1.7a9 9 0 006.4-2.6 9 9 0 002.6-6.4c0-2.2-.9-4.4-1.4-6.6-.3-1.2-7.6-28.3-12.2-45.3-.5-1.9-.9-3.8-.9-5.7.1-5.9 3.1-11.2 7.6-14.5zM600.2 587.2c-19.9 0-36-16.1-36-35.9 0-19.8 16.1-35.9 36-35.9s36 16.1 36 35.9c0 19.8-16.2 35.9-36 35.9zm179.9 0c-19.9 0-36-16.1-36-35.9 0-19.8 16.1-35.9 36-35.9s36 16.1 36 35.9a36.08 36.08 0 01-36 35.9z"}}]},name:"wechat",theme:"outlined"},Dt=xt,Bt=function(t,o){return i.createElement(ve.Z,(0,fe.Z)({},t,{ref:o,icon:Dt}))},Et=i.forwardRef(Bt),$t=e(42075),Te=e(79407),xe=e(48055),Y={"f-icon-button":"f-icon-button___N7pd4","f-fill-absolute":"f-fill-absolute___MTTUM","f-button":"f-button___kVzIO","f-doc-en-break":"f-doc-en-break___czPZA",message:"message___Trn8S",modal:"modal___u9ELY",modalTitle:"modalTitle___ZRZM5",modalFooter:"modalFooter___Xkucl",copyErrorTips:"copyErrorTips___AgzNf",description:"description___BXpz9",notification:"notification___oASqJ",errorDetail:"errorDetail___B1hb0","loading-animation":"loading-animation___IpfOs"},s=e(85893);function jt(){var a=Se.Z.useNotification({maxCount:2}),t=v()(a,2),o=t[0],n=t[1],m=(0,i.useState)(!1),g=v()(m,2),p=g[0],w=g[1],$=(0,i.useState)(),N=v()($,2),b=N[0],z=N[1];window._notificationApi=(0,i.useCallback)(function(x){var H=x.errorCode,V=x.errorMessage,J=x.solutionLink;z(x);var ce=(0,s.jsxs)($t.Z,{children:[(0,s.jsx)(D.ZP,{type:"link",size:"small",onClick:function(){w(!0)},children:(0,h.ZP)("common.notification.detail")}),J&&(0,s.jsx)(D.ZP,{type:"link",size:"small",target:"_blank",href:J,children:(0,h.ZP)("common.notification.solution")})]}),se=function(){return(0,s.jsxs)("div",{className:Y.description,children:[H," ",V]})},re=function(){return(0,s.jsxs)("div",{className:Y.message,children:[(0,s.jsx)(xe.Z,{code:"\uE60C"}),"Error"]})};o.open({className:Y.notification,message:re(),description:se(),placement:"bottomRight",btn:ce})},[]);function G(){var x=[b==null?void 0:b.errorCode,b==null?void 0:b.errorMessage];return(0,s.jsx)("div",{className:Y.modalTitle,children:x.filter(function(H){return H}).join(":")})}function X(){var x=l()({getApplicationMessage:(0,ee.rT)()},b);(0,ee.JG)(JSON.stringify(x)),Ce.ZP.success((0,h.ZP)("common.button.copySuccessfully"))}function ae(){return b!=null&&b.requestParams?(0,s.jsxs)("div",{className:Y.modalFooter,onClick:X,children:[(0,s.jsx)(xe.Z,{code:"\uEB4E"}),(0,h.ZP)("common.button.copyError"),(0,s.jsx)("span",{className:Y.copyErrorTips,children:(0,h.ZP)("common.button.copyErrorTips")})]}):!1}return(0,s.jsxs)(s.Fragment,{children:[n,(0,s.jsx)(Te.Z,{className:Y.modal,title:G(),open:p,width:"70vw",footer:ae(),onCancel:function(){w(!1)},zIndex:99999,children:(0,s.jsx)("div",{className:Y.errorDetail,children:b==null?void 0:b.errorDetail})})]})}var Mt=jt,Ot=e(93181),_t=(0,i.memo)(function(){var a=(0,i.useState)(!1),t=v()(a,2),o=t[0],n=t[1],m=(0,i.useState)(null),g=v()(m,2),p=g[0],w=g[1],$=function(z){z===!1?n(!1):(n(!0),w(z))};(0,i.useEffect)(function(){(0,Ot.G9)($)},[]);var N=(0,i.useMemo)(function(){return p&&p.footer?{footer:p.footer,onOk:p.onOk}:{footer:!1}},[p]);return!!p&&(0,s.jsx)(Te.Z,l()(l()({title:p.title,open:o,width:p.width,onCancel:function(){n(!1)},destroyOnClose:!0},N),{},{children:p.content}))}),At=_t,wt=function(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Mt,{}),(0,s.jsx)(At,{})]})},Nt=wt,U={"f-icon-button":"f-icon-button___Qucux","f-fill-absolute":"f-fill-absolute___yem0b","f-button":"f-button___lf6a8","f-doc-en-break":"f-doc-en-break___qwRpP",loadingBox:"loadingBox___0sMDn",contact:"contact___Hy6Xa",icon:"icon___Gn7ax",app:"app___NIftm",appBody:"appBody___hWYWC","loading-animation":"loading-animation___Rf2z4"},De=e(32887),kt=function(){var t=(0,je.F)(),o=v()(t,2),n=o[0],m=o[1],g=(0,i.useState)({}),p=v()(g,2),w=p[0],$=p[1],N=(0,De.LM)(function(x){return{curUser:x.curUser}}),b=N.curUser,z=F({loopService:ne.testService}),G=z.serviceStatus,X=z.restartPolling;$e(),(0,i.useLayoutEffect)(function(){$(tt(n))},[n]),(0,i.useLayoutEffect)(function(){gt(),ae()},[]),(0,i.useEffect)(function(){G===k.SUCCESS&&(0,De.TV)()},[G]);var ae=function(){function H(J){n.backgroundColor===u.ThemeType.FollowOs&&m(l()(l()({},n),{},{backgroundColor:J.matches?u.ThemeType.Dark:u.ThemeType.Light}))}var V=window.matchMedia("(prefers-color-scheme: dark)");V.onchange=H};return G===k.PENDING||b===null?(0,s.jsx)("div",{className:U.app,children:(0,s.jsx)(y.Z,{className:U.loadingBox,size:"large"})}):G===k.FAILURE?(0,s.jsx)("div",{className:U.app,children:(0,s.jsxs)("div",{className:U.loadingBox,children:[(0,s.jsxs)(D.ZP,{type:"primary",onClick:X,style:{marginBottom:20},children:[(0,s.jsx)(Pt,{}),(0,h.ZP)("common.text.tryToRestart")]}),(0,s.jsxs)("div",{className:U.contact,children:[(0,h.ZP)("common.text.contactUs"),"\uFF1A",(0,s.jsx)(Tt,{className:U.icon,onClick:function(){return window.open("https://github.com/chat2db/Chat2DB")}}),(0,s.jsx)(j.Z,{placement:"bottom",title:(0,s.jsx)("img",{style:{width:200,height:200},src:"https://sqlgpt.cn/_static/img/chat2db_wechat.png"}),children:(0,s.jsx)(Et,{className:U.icon})})]})]})}):(0,s.jsxs)(B.ZP,{locale:h.a1?T.Z:M.Z,theme:w,children:[(0,s.jsx)("div",{className:U.app,children:(0,s.jsx)("div",{className:U.appBody,children:(0,s.jsx)(ot.Outlet,{})})}),(0,s.jsx)(Nt,{})]})},Rt=kt},71807:function(P,r,e){"use strict";e.d(r,{B:function(){return C},N:function(){return l}});var d=e(55988),l={appTitleBarRightComponent:null},C=function(i){return d.E.setState({appTitleBarRightComponent:i})}},93181:function(P,r,e){"use strict";e.d(r,{G9:function(){return C},h7:function(){return v},n$:function(){return l}});var d=e(55988),l={openModal:null},C=function(O){return d.E.setState({openModal:O})},v=function(O){var c,_;return(c=(_=d.E.getState()).openModal)===null||c===void 0?void 0:c.call(_,O)}},2550:function(P,r,e){"use strict";e.d(r,{r:function(){return C},t:function(){return l}});var d=e(55988),l={focusedContent:null},C=function(i){return d.E.setState({focusedContent:i})}},55988:function(P,r,e){"use strict";e.d(r,{E:function(){return W}});var d=e(97857),l=e.n(d),C=e(50161),v=e(782),i=e(76248),O=e(2550),c=e(93181),_=e(71807),W=(0,C.F)((0,v.mW)(function(){return l()(l()(l()({},O.t),c.n$),_.N)}),i.X)},1028:function(P,r,e){"use strict";var d=e(85269).default;Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var l=d(e(25633)),C=r.default=l.default},80037:function(P,r,e){"use strict";var d=e(85269).default;Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var l=d(e(5584)),C=r.default=l.default},25633:function(P,r,e){"use strict";var d=e(85269).default;Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var l=d(e(27590)),C=d(e(52040));const v={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},l.default),timePickerLocale:Object.assign({},C.default)};var i=r.default=v},5584:function(P,r,e){"use strict";var d=e(85269).default;Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var l=d(e(85369)),C=d(e(15704));const v={lang:Object.assign({placeholder:"\u8BF7\u9009\u62E9\u65E5\u671F",yearPlaceholder:"\u8BF7\u9009\u62E9\u5E74\u4EFD",quarterPlaceholder:"\u8BF7\u9009\u62E9\u5B63\u5EA6",monthPlaceholder:"\u8BF7\u9009\u62E9\u6708\u4EFD",weekPlaceholder:"\u8BF7\u9009\u62E9\u5468",rangePlaceholder:["\u5F00\u59CB\u65E5\u671F","\u7ED3\u675F\u65E5\u671F"],rangeYearPlaceholder:["\u5F00\u59CB\u5E74\u4EFD","\u7ED3\u675F\u5E74\u4EFD"],rangeMonthPlaceholder:["\u5F00\u59CB\u6708\u4EFD","\u7ED3\u675F\u6708\u4EFD"],rangeQuarterPlaceholder:["\u5F00\u59CB\u5B63\u5EA6","\u7ED3\u675F\u5B63\u5EA6"],rangeWeekPlaceholder:["\u5F00\u59CB\u5468","\u7ED3\u675F\u5468"]},l.default),timePickerLocale:Object.assign({},C.default)};v.lang.ok="\u786E\u5B9A";var i=r.default=v},18253:function(P,r,e){"use strict";var d,l=e(85269).default;d={value:!0},r.Z=void 0;var C=l(e(62273)),v=l(e(1028)),i=l(e(25633)),O=l(e(52040));const c="${label} is not a valid ${type}",_={locale:"en",Pagination:C.default,DatePicker:i.default,TimePicker:O.default,Calendar:v.default,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:c,method:c,array:c,object:c,number:c,date:c,boolean:c,integer:c,float:c,regexp:c,email:c,url:c,hex:c},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh"},ColorPicker:{presetEmpty:"Empty"}};var W=r.Z=_},82925:function(P,r,e){"use strict";var d,l=e(85269).default;d={value:!0},r.Z=void 0;var C=l(e(74219)),v=l(e(80037)),i=l(e(5584)),O=l(e(15704));const c="${label}\u4E0D\u662F\u4E00\u4E2A\u6709\u6548\u7684${type}",_={locale:"zh-cn",Pagination:C.default,DatePicker:i.default,TimePicker:O.default,Calendar:v.default,global:{placeholder:"\u8BF7\u9009\u62E9"},Table:{filterTitle:"\u7B5B\u9009",filterConfirm:"\u786E\u5B9A",filterReset:"\u91CD\u7F6E",filterEmptyText:"\u65E0\u7B5B\u9009\u9879",filterCheckall:"\u5168\u9009",filterSearchPlaceholder:"\u5728\u7B5B\u9009\u9879\u4E2D\u641C\u7D22",selectAll:"\u5168\u9009\u5F53\u9875",selectInvert:"\u53CD\u9009\u5F53\u9875",selectNone:"\u6E05\u7A7A\u6240\u6709",selectionAll:"\u5168\u9009\u6240\u6709",sortTitle:"\u6392\u5E8F",expand:"\u5C55\u5F00\u884C",collapse:"\u5173\u95ED\u884C",triggerDesc:"\u70B9\u51FB\u964D\u5E8F",triggerAsc:"\u70B9\u51FB\u5347\u5E8F",cancelSort:"\u53D6\u6D88\u6392\u5E8F"},Modal:{okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",justOkText:"\u77E5\u9053\u4E86"},Tour:{Next:"\u4E0B\u4E00\u6B65",Previous:"\u4E0A\u4E00\u6B65",Finish:"\u7ED3\u675F\u5BFC\u89C8"},Popconfirm:{cancelText:"\u53D6\u6D88",okText:"\u786E\u5B9A"},Transfer:{titles:["",""],searchPlaceholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5185\u5BB9",itemUnit:"\u9879",itemsUnit:"\u9879",remove:"\u5220\u9664",selectCurrent:"\u5168\u9009\u5F53\u9875",removeCurrent:"\u5220\u9664\u5F53\u9875",selectAll:"\u5168\u9009\u6240\u6709",removeAll:"\u5220\u9664\u5168\u90E8",selectInvert:"\u53CD\u9009\u5F53\u9875"},Upload:{uploading:"\u6587\u4EF6\u4E0A\u4F20\u4E2D",removeFile:"\u5220\u9664\u6587\u4EF6",uploadError:"\u4E0A\u4F20\u9519\u8BEF",previewFile:"\u9884\u89C8\u6587\u4EF6",downloadFile:"\u4E0B\u8F7D\u6587\u4EF6"},Empty:{description:"\u6682\u65E0\u6570\u636E"},Icon:{icon:"\u56FE\u6807"},Text:{edit:"\u7F16\u8F91",copy:"\u590D\u5236",copied:"\u590D\u5236\u6210\u529F",expand:"\u5C55\u5F00"},PageHeader:{back:"\u8FD4\u56DE"},Form:{optional:"\uFF08\u53EF\u9009\uFF09",defaultValidateMessages:{default:"\u5B57\u6BB5\u9A8C\u8BC1\u9519\u8BEF${label}",required:"\u8BF7\u8F93\u5165${label}",enum:"${label}\u5FC5\u987B\u662F\u5176\u4E2D\u4E00\u4E2A[${enum}]",whitespace:"${label}\u4E0D\u80FD\u4E3A\u7A7A\u5B57\u7B26",date:{format:"${label}\u65E5\u671F\u683C\u5F0F\u65E0\u6548",parse:"${label}\u4E0D\u80FD\u8F6C\u6362\u4E3A\u65E5\u671F",invalid:"${label}\u662F\u4E00\u4E2A\u65E0\u6548\u65E5\u671F"},types:{string:c,method:c,array:c,object:c,number:c,date:c,boolean:c,integer:c,float:c,regexp:c,email:c,url:c,hex:c},string:{len:"${label}\u987B\u4E3A${len}\u4E2A\u5B57\u7B26",min:"${label}\u6700\u5C11${min}\u4E2A\u5B57\u7B26",max:"${label}\u6700\u591A${max}\u4E2A\u5B57\u7B26",range:"${label}\u987B\u5728${min}-${max}\u5B57\u7B26\u4E4B\u95F4"},number:{len:"${label}\u5FC5\u987B\u7B49\u4E8E${len}",min:"${label}\u6700\u5C0F\u503C\u4E3A${min}",max:"${label}\u6700\u5927\u503C\u4E3A${max}",range:"${label}\u987B\u5728${min}-${max}\u4E4B\u95F4"},array:{len:"\u987B\u4E3A${len}\u4E2A${label}",min:"\u6700\u5C11${min}\u4E2A${label}",max:"\u6700\u591A${max}\u4E2A${label}",range:"${label}\u6570\u91CF\u987B\u5728${min}-${max}\u4E4B\u95F4"},pattern:{mismatch:"${label}\u4E0E\u6A21\u5F0F\u4E0D\u5339\u914D${pattern}"}}},Image:{preview:"\u9884\u89C8"},QRCode:{expired:"\u4E8C\u7EF4\u7801\u8FC7\u671F",refresh:"\u70B9\u51FB\u5237\u65B0"},ColorPicker:{presetEmpty:"\u6682\u65E0"}};var W=r.Z=_},52040:function(P,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;const e={placeholder:"Select time",rangePlaceholder:["Start time","End time"]};var d=r.default=e},15704:function(P,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;const e={placeholder:"\u8BF7\u9009\u62E9\u65F6\u95F4",rangePlaceholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"]};var d=r.default=e},62273:function(P,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},d=r.default=e},74219:function(P,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e={items_per_page:"\u6761/\u9875",jump_to:"\u8DF3\u81F3",jump_to_confirm:"\u786E\u5B9A",page:"\u9875",prev_page:"\u4E0A\u4E00\u9875",next_page:"\u4E0B\u4E00\u9875",prev_5:"\u5411\u524D 5 \u9875",next_5:"\u5411\u540E 5 \u9875",prev_3:"\u5411\u524D 3 \u9875",next_3:"\u5411\u540E 3 \u9875",page_size:"\u9875\u7801"},d=r.default=e},27590:function(P,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},d=r.default=e},85369:function(P,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e={locale:"zh_CN",today:"\u4ECA\u5929",now:"\u6B64\u523B",backToToday:"\u8FD4\u56DE\u4ECA\u5929",ok:"\u786E\u5B9A",timeSelect:"\u9009\u62E9\u65F6\u95F4",dateSelect:"\u9009\u62E9\u65E5\u671F",weekSelect:"\u9009\u62E9\u5468",clear:"\u6E05\u9664",month:"\u6708",year:"\u5E74",previousMonth:"\u4E0A\u4E2A\u6708 (\u7FFB\u9875\u4E0A\u952E)",nextMonth:"\u4E0B\u4E2A\u6708 (\u7FFB\u9875\u4E0B\u952E)",monthSelect:"\u9009\u62E9\u6708\u4EFD",yearSelect:"\u9009\u62E9\u5E74\u4EFD",decadeSelect:"\u9009\u62E9\u5E74\u4EE3",yearFormat:"YYYY\u5E74",dayFormat:"D\u65E5",dateFormat:"YYYY\u5E74M\u6708D\u65E5",dateTimeFormat:"YYYY\u5E74M\u6708D\u65E5 HH\u65F6mm\u5206ss\u79D2",previousYear:"\u4E0A\u4E00\u5E74 (Control\u952E\u52A0\u5DE6\u65B9\u5411\u952E)",nextYear:"\u4E0B\u4E00\u5E74 (Control\u952E\u52A0\u53F3\u65B9\u5411\u952E)",previousDecade:"\u4E0A\u4E00\u5E74\u4EE3",nextDecade:"\u4E0B\u4E00\u5E74\u4EE3",previousCentury:"\u4E0A\u4E00\u4E16\u7EAA",nextCentury:"\u4E0B\u4E00\u4E16\u7EAA"},d=r.default=e},85269:function(P){function r(e){return e&&e.__esModule?e:{default:e}}P.exports=r,P.exports.__esModule=!0,P.exports.default=P.exports}}]);
